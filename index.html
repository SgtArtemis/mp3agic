<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="mp3agic : A java library for reading mp3 files and reading / manipulating the ID3 tags (ID3v1 and ID3v2.2 through ID3v2.4)." />
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <title>mp3agic</title>
  </head>

  <body>
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/mpatric/mp3agic">View on GitHub</a>
          
          <h1 id="project_title">mp3agic</h1>
          
            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/mpatric/mp3agic/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/mpatric/mp3agic/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">

<p>A java library for reading mp3 files and reading / manipulating the ID3 tags (ID3v1 and ID3v2.2 through ID3v2.4).</p>

<p>A simple set of command-line tools built on top of this library can be found in a separate github project: <a href="https://github.com/mpatric/mp3agic-examples">mp3agic-examples</a></p>

<p>Releases are available via Maven central. To add a dependency to mp3agic, use:</p>
<pre><code>&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.mpatric&lt;/groupId&gt;
        &lt;artifactId&gt;mp3agic&lt;/artifactId&gt;
        &lt;!-- please check for the latest version when adding this --&gt;
        &lt;version&gt;0.8.1&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>

<h2>Some features</h2>

<ul>
<li>100% Java</li>
<li>read low-level mpeg frame data</li>
<li>read, write, add and remove ID3v1 and ID3v2 tags (ID3v2.3 and ID3v2.4)</li>
<li>read obsolete 3-letter ID3v2.2 tags (but not write them)</li>
<li>correctly read VBR files by looking at the actual mpeg frames</li>
<li>read and write embedded images (such as album art)</li>
<li>add or remove custom messages between the end of the mpeg frames and the ID3v1 tag</li>
<li>unicode support</li>
</ul><h2>Building</h2>

<p>You will need:</p>

<ul>
<li>
<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" title="JDK">JDK</a> 6 or higher
</li>
<li>
<a href="http://maven.apache.org/" title="maven">maven</a>
</li>
<li>A bash shell to run the command-line scripts (if you're on MacOS or a flavor of Unix, you're set, if you're on Windows, try <a href="http://www.cygwin.com/" title="Cygwin">Cygwin</a> or rewrite the bash scripts as bat/cmd files).</li>
</ul>
Useful maven goals:
<ul>
<li>clean - remove binaries, docs and temporary build files</li>
<li>compile - compile the library</li>
<li>test - run all unit tests</li>
<li>package - package compiled code into a jar</li>

</ul><h2>How to use it</h2>

<p>Some sample code follows for performing common operations; it is not an exhaustive list of all the functionality.
More can be learned from looking at the javadocs, and at the code itself or at the included command-line applications in the com.mpatric.mp3agic.app package.</p>

<h3>Opening an mp3 file</h3>

<pre><code>    Mp3File mp3file = new Mp3File("SomeMp3File.mp3");
    System.out.println("Length of this mp3 is: " + mp3file.getLengthInSeconds() + " seconds");
    System.out.println("Bitrate: " + mp3file.getLengthInSeconds() + " kbps " + (mp3file.isVbr() ? "(VBR)" : "(CBR)"));
    System.out.println("Sample rate: " + mp3file.getSampleRate() + " Hz");
    System.out.println("Has ID3v1 tag?: " + (mp3file.hasId3v1Tag() ? "YES" : "NO"));
    System.out.println("Has ID3v2 tag?: " + (mp3file.hasId3v2Tag() ? "YES" : "NO"));
    System.out.println("Has custom tag?: " + (mp3file.hasCustomTag() ? "YES" : "NO"));
</code></pre>

<h3>Saving an mp3 file</h3>

<pre><code>    mp3file.save("MyMp3File.mp3");
</code></pre>

<h3>Removing ID3 and custom tags from an mp3 file</h3>

<pre><code>    Mp3File mp3file = new Mp3File("SomeMp3File.mp3");
    if (mp3file.hasId3v1Tag()) {
      mp3file.removeId3v1Tag();
    }
    if (mp3file.hasId3v2Tag()) {
      mp3file.removeId3v2Tag();
    }
    if (mp3file.hasCustomTag()) {
      mp3file.removeCustomTag();
    }
    mp3file.save("Mp3FileWithoutTags.mp3");
</code></pre>

<h3>Getting ID3v1 values</h3>

<pre><code>    Mp3File mp3file = new Mp3File("SomeMp3File.mp3");
    if (mp3file.hasId3v1Tag()) {
      ID3v1 id3v1Tag = mp3file.getId3v1Tag();
      System.out.println("Track: " + id3v1Tag.getTrack());
      System.out.println("Artist: " + id3v1Tag.getArtist());
      System.out.println("Title: " + id3v1Tag.getTitle());
      System.out.println("Album: " + id3v1Tag.getAlbum());
      System.out.println("Year: " + id3v1Tag.getYear());
      System.out.println("Genre: " + id3v1Tag.getGenre() + " (" + id3v1Tag.getGenreDescription() + ")");
      System.out.println("Comment: " + id3v1Tag.getComment());
    }
</code></pre>

<h3>Setting ID3v1 values</h3>

<pre><code>    Mp3File mp3file = new Mp3File("SomeMp3File.mp3");
    ID3v1 id3v1Tag;
    if (mp3file.hasId3v1Tag()) {
      id3v1Tag =  mp3file.getId3v1Tag();
    } else {
      // mp3 does not have an ID3v1 tag, let's create one..
      id3v1Tag = new ID3v1Tag();
      mp3file.setId3v1Tag(id3v1Tag);
    }
    id3v1Tag.setTrack("5");
    id3v1Tag.setArtist("An Artist");
    id3v1Tag.setTitle("The Title");
    id3v1Tag.setAlbum("The Album");
    id3v1Tag.setYear("2001");
    id3v1Tag.setGenre(12);
    id3v1Tag.setComment("Some comment");
    mp3file.save("MyMp3File.mp3");
</code></pre>

<h3>Getting ID3v2 frame values</h3>

<p>Convenience methods are included to easily get common ID3v2 frames. If you wish to get frame data that does not have convenience methods, or if you wish to access meta-data on frames, direct reading of frames is possible (see further down on this page).</p>

<pre><code>    Mp3File mp3file = new Mp3File("SomeMp3File.mp3");
    if (mp3file.hasId3v2Tag()) {
      ID3v2 id3v2Tag = mp3file.getId3v2Tag();
      System.out.println("Track: " + id3v2Tag.getTrack());
      System.out.println("Artist: " + id3v2Tag.getArtist());
      System.out.println("Title: " + id3v2Tag.getTitle());
      System.out.println("Album: " + id3v2Tag.getAlbum());
      System.out.println("Year: " + id3v2Tag.getYear());
      System.out.println("Genre: " + id3v2Tag.getGenre() + " (" + id3v2Tag.getGenreDescription() + ")");
      System.out.println("Comment: " + id3v2Tag.getComment());
      System.out.println("Composer: " + id3v2Tag.getComposer());
      System.out.println("Publisher: " + id3v2Tag.getPublisher());
      System.out.println("Original artist: " + id3v2Tag.getOriginalArtist());
      System.out.println("Album artist: " + id3v2Tag.getAlbumArtist());
      System.out.println("Copyright: " + id3v2Tag.getCopyright());
      System.out.println("URL: " + id3v2Tag.getUrl());
      System.out.println("Encoder: " + id3v2Tag.getEncoder());
      byte[] albumImageData = id3v2Tag.getAlbumImage();
      if (albumImageData != null) {
        System.out.println("Have album image data, length: " + albumImageData.length + " bytes");
        System.out.println("Album image mime type: " + id3v2Tag.getAlbumImageMimeType());
      }
    }
</code></pre>

<h3>Getting ID3v2 album artwork</h3>

<pre><code>    Mp3File mp3file = new Mp3File("SomeMp3File.mp3");
    if (mp3file.hasId3v2Tag()) {
      ID3v2 id3v2Tag = mp3file.getId3v2Tag();
      byte[] imageData = id3v2Tag.getAlbumImage();
      if (imageData != null) {
        String mimeType = id3v2Tag.getAlbumImageMimeType();
        // Write image to file - can determine appropriate file extension from the mime type
        RandomAccessFile file = new RandomAccessFile("album-artwork", "rw");
        file.write(data);
        file.close();
      }
    }
</code></pre>

<h3>Setting ID3v2 field values</h3>

<p>Convenience methods are included to easily set common ID3v2 tags. Text encoding is chosen appropriately for strings (generally ISO8859-1 or UTF-16). If you wish to set frame data that does not have convenience methods, or if you wish to specify text encoding, or set meta-data on frames, direct writing of frames is possible (see further down on this page).</p>

<pre><code>    Mp3File mp3file = new Mp3File("SomeMp3File.mp3");
    ID3v2 id3v2Tag;
    if (mp3file.hasId3v2Tag()) {
      id3v2Tag = mp3file.getId3v2Tag();
    } else {
      // mp3 does not have an ID3v2 tag, let's create one..
      id3v2Tag = new ID3v24Tag();
      mp3file.setId3v2Tag(id3v2Tag);
    }
    id3v2Tag.setTrack("5");
    id3v2Tag.setArtist("An Artist");
    id3v2Tag.setTitle("The Title");
    id3v2Tag.setAlbum("The Album");
    id3v2Tag.setYear("2001");
    id3v2Tag.setGenre(12);
    id3v2Tag.setComment("Some comment");
    id3v2Tag.setComposer("The Composer");
    id3v2Tag.setPublisher("A Publisher");
    id3v2Tag.setOriginalArtist("Another Artist");
    id3v2Tag.setAlbumArtist("An Artist");
    id3v2Tag.setCopyright("Copyright");
    id3v2Tag.setUrl("http://foobar");
    id3v2Tag.setEncoder("The Encoder");
    mp3file.save("MyMp3File.mp3");
</code></pre>

<h3>Reading and writing ID3v2 frames directly</h3>

<p>Frame IDs are defined in the <a href="http://www.id3.org/Developer_Information" title="ID3v2 specification">ID3v2 specification</a>. Frames can be read from an ID3v2 tag using these. </p>

<p>For now, the best approach to access frames not yet supported by convenience methods is to extend the <code>AbstractID3v2Tag</code> class, following the pattern for other frames already done. Please fork the project in github and submit a patch request if you add anything useful.</p>

<p>Code to read and write these frames more easily is coming soon. Watch this space.</p>

<h2>Copyright</h2>

<p>Copyright (c) 2006-2013 Michael Patricios. See mit-license.txt for details.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">mp3agic maintained by <a href="https://github.com/mpatric">mpatric</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

  </body>
</html>
